"use strict";var t=require("react");function e(t,e,n){if(n||2===arguments.length)for(var a,r=0,s=e.length;r<s;r++)!a&&r in e||(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return t.concat(a||Array.prototype.slice.call(e))}require("dayjs"),require("recharts"),"function"==typeof SuppressedError&&SuppressedError,exports.ReactionTime=function(n){var a=t.useState((function(){var t=localStorage.getItem("rt_database");return null!==t?JSON.parse(t):{listOfAttempts:[],bestAttempts:[],averageOfAllAttemps:0}})),r=a[0],s=a[1],i=t.useState(0),o=i[0],c=i[1],m=t.useState(0),l=m[0],u=m[1],p=t.useState("Click the box when Red Turns Green"),f=p[0],A=p[1],T=t.useState(0),g=T[0],d=T[1],b=t.useState(void 0),h=b[0],w=b[1],O=n.waitTime?n.waitTime:5e3,S=void 0===n.needInstruction||n.needInstruction;return t.useEffect((function(){localStorage.setItem("rt_database",JSON.stringify(r))}),[r]),t.createElement("div",{className:"".concat(n.className," ").concat(0===o||4===o?"bg-cyan-500":1===o?"bg-red-500":"bg-green-500"),onClick:function(){0===o?(c(1),A("wait for it"),w(setTimeout((function(){c(2),u(Date.now()),A("press now!")}),Math.floor(Math.random()*(O-1e3+1)+1e3)))):1===o?(clearTimeout(h),n.onReactionTimeChange(0),A("You Pressed Early"),c(0)):(d(Date.now()-l),n.onReactionTimeChange(Date.now()-l),A("Nice Job!"),g>0&&(g<Math.min.apply(Math,r.bestAttempts.map((function(t){return t.reactionTime})))?s({listOfAttempts:e(e([],r.listOfAttempts,!0),[{reactionTime:g,testTime:Date.now()}],!1),averageOfAllAttemps:r.listOfAttempts.map((function(t){return t.reactionTime})).reduce((function(t,e,n,a){return t+e/a.length}),0),bestAttempts:e(e([],r.bestAttempts,!0),[{reactionTime:g,testTime:Date.now()}],!1)}):void 0!==r.bestAttempts[r.bestAttempts.length-1].reactionTime&&s({listOfAttempts:e(e([],r.listOfAttempts,!0),[{reactionTime:g,testTime:Date.now()}],!1),averageOfAllAttemps:r.listOfAttempts.map((function(t){return t.reactionTime})).reduce((function(t,e,n,a){return t+e/a.length}),0),bestAttempts:e(e([],r.bestAttempts,!0),[{reactionTime:r.bestAttempts[r.bestAttempts.length-1].reactionTime,testTime:Date.now()}],!1)})),c(0))}},S&&t.createElement("p",{className:n.instructionsClassName},f),n.children)};
//# sourceMappingURL=index.js.map
