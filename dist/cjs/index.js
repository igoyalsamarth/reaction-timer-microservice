"use strict";var t=require("react"),e=require("dayjs"),a=require("recharts");function n(t,e,a){if(a||2===arguments.length)for(var n,r=0,s=e.length;r<s;r++)!n&&r in e||(n||(n=Array.prototype.slice.call(e,0,r)),n[r]=e[r]);return t.concat(n||Array.prototype.slice.call(e))}"function"==typeof SuppressedError&&SuppressedError,exports.Analytics=function(n){var r=t.useState((function(){var t=localStorage.getItem("rt_database");return null!==t?JSON.parse(t):{latestAttempt:{},listOfAttempts:[],bestAttempts:[],averageOfAllAttemps:0}})),s=r[0],i=r[1];return t.useEffect((function(){i((function(){var t=localStorage.getItem("rt_database");return null!==t?JSON.parse(t):{latestAttempt:{},listOfAttempts:[],bestAttempts:[],averageOfAllAttemps:0}}))}),[n.onReactionTimeChange]),t.createElement("div",{className:n.className},t.createElement(a.ResponsiveContainer,{width:n.width?n.width:"100%",height:n.height?n.height:"100%"},t.createElement(a.LineChart,{margin:{top:5,right:30,left:20,bottom:5},data:s.listOfAttempts.map((function(t){return{reactioNTime:t.reactionTime,date:t.testTime}}))},t.createElement(a.CartesianGrid,{strokeDasharray:"3 3"}),t.createElement(a.XAxis,{fontSize:10,dataKey:"date",tickFormatter:function(t){return e(t).format("YYYY-MM-DD hh:mm:ss")},type:"number",domain:["auto","auto"]}),t.createElement(a.YAxis,{fontSize:10,dataKey:"reactionTime"}),t.createElement(a.Tooltip,{labelClassName:"text-sm font-bold",labelFormatter:function(t){return e(t).format("YYYY-MM-DD hh:mm:ss")}}),t.createElement(a.Legend,null),t.createElement(a.Line,{type:"stepAfter",dataKey:"bestAttempt",stroke:"#8884d8",data:s.bestAttempts.map((function(t){return{bestAttempt:t.reactionTime,date:t.testTime}}))}),t.createElement(a.Line,{type:"monotone",dataKey:"reactionTime",stroke:"#000",data:s.listOfAttempts.map((function(t){return{reactionTime:t.reactionTime,date:t.testTime}}))}),t.createElement(a.ReferenceLine,{y:s.averageOfAllAttemps,stroke:"red",strokeDasharray:"3 3"}))))},exports.ReactionTime=function(e){var a=t.useState((function(){var t=localStorage.getItem("rt_database");return null!==t?JSON.parse(t):{listOfAttempts:[],bestAttempts:[],averageOfAllAttemps:0}})),r=a[0],s=a[1],i=t.useState(0),o=i[0],m=i[1],c=t.useState(0),l=c[0],u=c[1],p=t.useState("Click the box when Red Turns Green"),f=p[0],A=p[1],d=t.useState(0),h=d[0],g=d[1],T=t.useState(void 0),b=T[0],y=T[1],O=e.waitTime?e.waitTime:5e3,v=void 0===e.needInstruction||e.needInstruction;return t.useEffect((function(){localStorage.setItem("rt_database",JSON.stringify(r))}),[r]),t.createElement("div",{className:"".concat(e.className," ").concat(0===o||4===o?"bg-cyan-500":1===o?"bg-red-500":"bg-green-500"),onClick:function(){0===o?(m(1),A("wait for it"),y(setTimeout((function(){m(2),u(Date.now()),A("press now!")}),Math.floor(Math.random()*(O-1e3+1)+1e3)))):1===o?(clearTimeout(b),e.onReactionTimeChange(0),A("You Pressed Early"),m(0)):(g(Date.now()-l),e.onReactionTimeChange(Date.now()-l),A("Nice Job!"),h>0&&(h<Math.min.apply(Math,r.bestAttempts.map((function(t){return t.reactionTime})))?s({listOfAttempts:n(n([],r.listOfAttempts,!0),[{reactionTime:h,testTime:Date.now()}],!1),averageOfAllAttemps:r.listOfAttempts.map((function(t){return t.reactionTime})).reduce((function(t,e,a,n){return t+e/n.length}),0),bestAttempts:n(n([],r.bestAttempts,!0),[{reactionTime:h,testTime:Date.now()}],!1)}):void 0!==r.bestAttempts[r.bestAttempts.length-1].reactionTime&&s({listOfAttempts:n(n([],r.listOfAttempts,!0),[{reactionTime:h,testTime:Date.now()}],!1),averageOfAllAttemps:r.listOfAttempts.map((function(t){return t.reactionTime})).reduce((function(t,e,a,n){return t+e/n.length}),0),bestAttempts:n(n([],r.bestAttempts,!0),[{reactionTime:r.bestAttempts[r.bestAttempts.length-1].reactionTime,testTime:Date.now()}],!1)})),m(0))}},v&&t.createElement("p",{className:e.instructionsClassName},f),e.children)};
//# sourceMappingURL=index.js.map
